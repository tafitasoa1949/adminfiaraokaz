{"ast":null,"code":"// Autre.jsx\nimport React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import logo from'./logo.svg';import'./../assets/login/css/style.css';import Utilisateur from'./../classe/Utilisateur';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const us=new Utilisateur(\"\",\"\");const[user,setUser]=useState(us);const inputEmail=event=>{event.preventDefault();setUser(prevData=>({...prevData,pseudo:event.target.value}));};const inputPassword=event=>{event.preventDefault();setUser(prevData=>({...prevData,password:event.target.value}));};const onsubRecherche=async event=>{event.preventDefault();console.log(user);try{localStorage.clear();localStorage.setItem(\"mapping\",\"https://varotrafiaraoccasion-production.up.railway.app/varotrafiaraback/\");localStorage.setItem(\"mappingimages\",\"https://varotrafiaraoccasion-production.up.railway.app/images/\");const response=await fetch(localStorage.getItem('mapping')+\"loginback\",{method:'POST',headers:{'Content-Type':'application/json'// Type de contenu de la requête\n},body:JSON.stringify(user)});if(!response.ok){throw new Error('Problème lors de la récupération des données');}const data=await response.json();console.log(data);if(data.data!=null){localStorage.setItem(\"infoadmin\",JSON.stringify(data.data.admin));localStorage.setItem(\"token\",data.data.token);window.location.href='/valider';}else{window.location.href='/';}}catch(error){console.error('Erreur:',error);throw error;}};useEffect(()=>{localStorage.setItem(\"mapping\",\"https://varotrafiaraoccasion-production.up.railway.app/varotrafiaraback/\");localStorage.setItem(\"mappingimages\",\"https://varotrafiaraoccasion-production.up.railway.app/images/\");});return/*#__PURE__*/_jsx(\"section\",{className:\"ftco-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 text-center mb-5\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"heading-section\",children:\"Login to Varotra fiara Admin\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 col-lg-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrap d-md-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-wrap p-4 p-lg-5 text-center d-flex align-items-center order-md-last\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text w-100\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to Varotra Fiara Admin\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/inscription\",className:\"btn btn-white btn-outline-white\",children:\"Download\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrap p-4 p-lg-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"mb-4\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"social-media d-flex justify-content-end\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"social-icon d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-facebook\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"social-icon d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-twitter\"})})]})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"signin-form\",onSubmit:onsubRecherche,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"name\",children:\"Email \"}),/*#__PURE__*/_jsx(\"label\",{children:\"marieclaudiarasolonjatovo@gmail.com\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Username\",required:true,onChange:inputEmail})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"password\",children:\"Password \"}),/*#__PURE__*/_jsx(\"label\",{children:\"mertina5041\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",required:true,onChange:inputPassword})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form-control btn btn-primary submit px-3\",children:\"Login\"})})]})]})]})})})]})});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","logo","Utilisateur","jsx","_jsx","jsxs","_jsxs","Login","us","user","setUser","inputEmail","event","preventDefault","prevData","pseudo","target","value","inputPassword","password","onsubRecherche","console","log","localStorage","clear","setItem","response","fetch","getItem","method","headers","body","JSON","stringify","ok","Error","data","json","admin","token","window","location","href","error","className","children","onSubmit","htmlFor","type","placeholder","required","onChange"],"sources":["D:/adminfiaraokaz/src/page/Login.jsx"],"sourcesContent":["// Autre.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from './logo.svg';\r\nimport './../assets/login/css/style.css';\r\nimport Utilisateur from './../classe/Utilisateur';\r\n\r\n\r\nfunction Login() {\r\n    \r\n    const us= new Utilisateur(\"\",\"\");\r\n    const [user,setUser]=useState(us);\r\n    const inputEmail = (event) => {\r\n        event.preventDefault();\r\n        setUser((prevData) => ({\r\n            ...prevData,\r\n            pseudo: event.target.value,\r\n          }));\r\n    };   \r\n    const inputPassword = (event) => {\r\n        event.preventDefault();\r\n        setUser((prevData) => ({\r\n            ...prevData,\r\n            password: event.target.value,\r\n          }));\r\n    }; \r\n\r\n    const onsubRecherche = async (event) =>{\r\n        event.preventDefault();\r\n        console.log(user);\r\n        try {\r\n            localStorage.clear();\r\n            localStorage.setItem(\"mapping\",\"https://varotrafiaraoccasion-production.up.railway.app/varotrafiaraback/\");\r\n            localStorage.setItem(\"mappingimages\",\"https://varotrafiaraoccasion-production.up.railway.app/images/\");\r\n            const response = await fetch(localStorage.getItem('mapping')+\"loginback\",{\r\n              method: 'POST',\r\n              headers: {\r\n                  'Content-Type': 'application/json' // Type de contenu de la requête\r\n              },\r\n              body: JSON.stringify(user)\r\n            });\r\n            if (!response.ok) {\r\n              throw new Error('Problème lors de la récupération des données');\r\n            }\r\n            const data = await response.json();\r\n            console.log(data)\r\n            if(data.data!=null){\r\n                localStorage.setItem(\"infoadmin\",JSON.stringify(data.data.admin));\r\n                localStorage.setItem(\"token\",data.data.token);\r\n                window.location.href = '/valider';\r\n            }else{\r\n                window.location.href = '/';\r\n            }\r\n           \r\n          } catch (error) {\r\n            console.error('Erreur:', error);\r\n            throw error;\r\n          }\r\n         \r\n    } \r\n    useEffect(()=>{\r\n        localStorage.setItem(\"mapping\",\"https://varotrafiaraoccasion-production.up.railway.app/varotrafiaraback/\");\r\n        localStorage.setItem(\"mappingimages\",\"https://varotrafiaraoccasion-production.up.railway.app/images/\");\r\n    })\r\n \r\n  return (\r\n    <section className=\"ftco-section\">\r\n    <div className=\"container\">\r\n        <div className=\"row justify-content-center\">\r\n            <div className=\"col-md-6 text-center mb-5\">\r\n                <h2 className=\"heading-section\">Login to Varotra fiara Admin</h2>\r\n            </div>\r\n        </div>\r\n        <div className=\"row justify-content-center\">\r\n            <div className=\"col-md-12 col-lg-10\">\r\n                <div className=\"wrap d-md-flex\">\r\n                    <div className=\"text-wrap p-4 p-lg-5 text-center d-flex align-items-center order-md-last\">\r\n                        <div className=\"text w-100\">\r\n                            <h2>Welcome to Varotra Fiara Admin</h2>\r\n                            {/* <p>La création de compte se fait sur la version mobile de notre site. Nous vous invitons à créer un compte</p> */}\r\n                            <a href=\"/inscription\" className=\"btn btn-white btn-outline-white\">Download</a>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"login-wrap p-4 p-lg-5\">\r\n                        <div className=\"d-flex\">\r\n                            <div className=\"w-100\">\r\n                                <h3 className=\"mb-4\">Login</h3>\r\n                            </div>\r\n                            <div className=\"w-100\">\r\n                                <p className=\"social-media d-flex justify-content-end\">\r\n                                    <a href=\"#\" className=\"social-icon d-flex align-items-center justify-content-center\"><span className=\"fa fa-facebook\"></span></a>\r\n                                    <a href=\"#\" className=\"social-icon d-flex align-items-center justify-content-center\"><span className=\"fa fa-twitter\"></span></a>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <form  className=\"signin-form\" onSubmit={onsubRecherche} >\r\n                            <div className=\"form-group mb-3\">\r\n                                <label className=\"label\" htmlFor=\"name\">Email </label>\r\n                                <label>marieclaudiarasolonjatovo@gmail.com</label>\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Username\" required  onChange={inputEmail} />\r\n                            </div>\r\n                            <div className=\"form-group mb-3\">\r\n                                <label className=\"label\" htmlFor=\"password\">Password </label>\r\n                                <label>mertina5041</label>\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Password\" required  onChange={inputPassword} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button type=\"submit\" className=\"form-control btn btn-primary submit px-3\">Login</button>\r\n                            </div>\r\n                            {/* <div className=\"form-group d-md-flex\">\r\n                                <div className=\"w-50 text-left\">\r\n                                    <label className=\"checkbox-wrap checkbox-primary mb-0\">Remember Me\r\n                                        <input type=\"checkbox\" defaultChecked />\r\n                                        <span className=\"checkmark\"></span>\r\n                                    </label>\r\n                                </div>\r\n                                <div className=\"w-50 text-md-right\">\r\n                                    <a href=\"#\">Forgot Password</a>\r\n                                </div>\r\n                            </div> */}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}