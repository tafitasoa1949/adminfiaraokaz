{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{FaRegHeart,FaHeart}from'react-icons/fa';import Navbar from'../component/Navbar';import Sidebar from'../component/Sidebar';import Footer from'../component/Footer';import'./../../front/vendor/glightbox/css/glightbox.min.css';import'./../../front/vendor/nouislider/nouislider.min.css';import'./../../front/vendor/choices.js/public/assets/styles/choices.min.css';import'./../../front/vendor/swiper/swiper-bundle.min.css';import'./../../front/css/style.default.css';import'./../../front/css/custom.css';import'./../../css/styles.css';import'./../../css/stylenotif.css';import'./../../boostrap/styles.css';import Historique from'./Historique';import{differenceInDays}from'date-fns';// import HeaderCRUD from '../HeaderCRUD';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ListHistorique(){const{id}=useParams();let lista=null;const[listeannonce,setListeannonce]=useState(lista);const Initialisation=async()=>{try{const response=await fetch(localStorage.getItem('mapping')+\"v_liste_annonceshistorique\",{method:'POST',headers:{'Content-Type':'application/json'// Type de contenu de la requête\n},body:JSON.stringify(parseFloat(id))});if(!response.ok){throw new Error('Problème lors de la récupération des données');}const data=await response.json();setListeannonce(data.data);console.log(data);}catch(error){console.error('Erreur:',error);throw error;}};let bornePagination=[0,7];const[bornePaginations,setBornePaginations]=useState(bornePagination);const paginationSuivant=event=>{event.preventDefault();setBornePaginations([bornePaginations[0]+7,bornePaginations[1]+9]);};const paginationPrecedent=()=>{if(bornePaginations[0]>=4){setBornePaginations([bornePaginations[0]-7,bornePaginations[1]-9]);}};useEffect(()=>{Initialisation();console.log(\"apres initialisation\");},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-main-wrapper\",children:[/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.css\",integrity:\"sha256-NAxhqDvtY0l4xn+YVa6WjAcmd94NNfttjNsDmNatFVc=\",crossorigin:\"anonymous\"}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid dashboard-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-header\",children:\"Listes historique\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{class:\"box shadow-sm rounded bg-white mb-3\",children:/*#__PURE__*/_jsx(\"div\",{class:\"box-body p-0\",children:listeannonce!==null&&listeannonce.slice(bornePaginations[0],bornePaginations[1]).map((image,index)=>image!==null?/*#__PURE__*/ // <Presentation myclass={image} key={index}></Presentation>\n_jsx(Historique,{myclass:image})// <Annonce myclass={image} key={index}></Annonce>\n:null)})})})]})})})})}),/*#__PURE__*/_jsx(\"div\",{class:\"list_paginationback\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"btn-group\",role:\"group\",\"aria-label\":\"Basic example\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-outline-secondary\",onClick:paginationPrecedent,children:\"1\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-outline-secondary\",children:\"X\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-outline-secondary\",onClick:paginationSuivant,children:\"3\"})]})}),/*#__PURE__*/_jsx(Footer,{})]})})// <>\n// <Navbar />\n// <Sidebar />\n// <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.css\" integrity=\"sha256-NAxhqDvtY0l4xn+YVa6WjAcmd94NNfttjNsDmNatFVc=\" crossorigin=\"anonymous\" />\n// <div class=\"container ht_content max-height-500 overflow-y-auto\">\n//     <div class=\"row\">\n//         <div class=\"col-lg-9 right\">\n//             <div class=\"box shadow-sm rounded bg-white mb-3\">\n//                 <div class=\"box-body p-0\">\n//                     {\n//                         listeannonce !== null &&\n//                         listeannonce.slice(0, 14).map((image, index) => (\n//                             image !== null ? (\n//                             // <Presentation myclass={image} key={index}></Presentation>\n//                             <Historique myclass={image}></Historique>\n//                             // <Annonce myclass={image} key={index}></Annonce>\n//                             ) : null\n//                         ))\n//                     }\n//                 </div>\n//             </div>\n//         </div>\n//     </div>\n// </div>\n// </>\n;}export default ListHistorique;","map":{"version":3,"names":["React","useState","useEffect","useParams","FaRegHeart","FaHeart","Navbar","Sidebar","Footer","Historique","differenceInDays","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ListHistorique","id","lista","listeannonce","setListeannonce","Initialisation","response","fetch","localStorage","getItem","method","headers","body","JSON","stringify","parseFloat","ok","Error","data","json","console","log","error","bornePagination","bornePaginations","setBornePaginations","paginationSuivant","event","preventDefault","paginationPrecedent","children","className","rel","href","integrity","crossorigin","class","slice","map","image","index","myclass","role","type","onClick"],"sources":["D:/frontadminVarotrafiara-main/adminfiaraokaz/src/page/client1/ListHistorique.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { FaRegHeart, FaHeart } from 'react-icons/fa';\nimport Navbar from '../component/Navbar';\nimport Sidebar from '../component/Sidebar';\nimport Footer from '../component/Footer';\n\nimport './../../front/vendor/glightbox/css/glightbox.min.css';\nimport './../../front/vendor/nouislider/nouislider.min.css';\nimport './../../front/vendor/choices.js/public/assets/styles/choices.min.css';\nimport './../../front/vendor/swiper/swiper-bundle.min.css';\nimport './../../front/css/style.default.css';\nimport './../../front/css/custom.css';\n\nimport './../../css/styles.css';\nimport './../../css/stylenotif.css';\nimport './../../boostrap/styles.css';\nimport Historique from './Historique';\nimport { differenceInDays } from 'date-fns';\n// import HeaderCRUD from '../HeaderCRUD';\n\n\nfunction ListHistorique() {\n  const { id } = useParams();\n    let lista = null;\n    const [listeannonce, setListeannonce] = useState(lista);\n    const Initialisation = async ()=>{\n        try {\n          const response = await fetch(localStorage.getItem('mapping')+\"v_liste_annonceshistorique\",{\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json' // Type de contenu de la requête\n            },\n            body: JSON.stringify(parseFloat(id))\n          });\n          if (!response.ok) {\n            throw new Error('Problème lors de la récupération des données');\n          }\n          const data = await response.json();\n          setListeannonce(data.data);\n          console.log(data);\n        } catch (error) {\n          console.error('Erreur:', error);\n          throw error;\n        }\n    \n      }\n      let bornePagination = [0, 7];\n      const [bornePaginations, setBornePaginations] = useState(bornePagination);\n      const paginationSuivant = (event) => {\n        event.preventDefault();\n        setBornePaginations([bornePaginations[0] + 7, bornePaginations[1] + 9]);\n      };\n    \n      const paginationPrecedent = () => {\n        if (bornePaginations[0] >= 4) {\n          setBornePaginations([bornePaginations[0] - 7, bornePaginations[1] - 9]);\n        }\n      };\n    useEffect(() => {\n        Initialisation();\n        console.log(\"apres initialisation\")\n    }, []);\n  return (\n    <>\n    <div className=\"dashboard-main-wrapper\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.css\" integrity=\"sha256-NAxhqDvtY0l4xn+YVa6WjAcmd94NNfttjNsDmNatFVc=\" crossorigin=\"anonymous\" />\n      <Navbar />\n      <Sidebar />\n      <div className=\"dashboard-wrapper\">\n        <div className=\"container-fluid dashboard-content\">\n        \n          <div className=\"row\">\n            <div className=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\">\n              <div className=\"card\">\n                <h5 className=\"card-header\">\n                  Listes historique\n                </h5>\n                <div className=\"card-body\">\n                <div class=\"box shadow-sm rounded bg-white mb-3\">\n                    <div class=\"box-body p-0\">\n                        {\n                            listeannonce !== null &&\n                            listeannonce.slice(bornePaginations[0], bornePaginations[1]).map((image, index) => (\n                                image !== null ? (\n                                // <Presentation myclass={image} key={index}></Presentation>\n                                <Historique myclass={image}></Historique>\n                                // <Annonce myclass={image} key={index}></Annonce>\n                                ) : null\n                            ))\n                        }\n\n                    </div>\n                </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n       \n      </div>\n      <div class=\"list_paginationback\">\n                        <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                          <button type=\"button\" class=\"btn btn-outline-secondary\" onClick={paginationPrecedent}>1</button>\n                          <button type=\"button\" class=\"btn btn-outline-secondary\">X</button>\n                          <button type=\"button\" class=\"btn btn-outline-secondary\" onClick={paginationSuivant}>3</button>\n                        </div>\n      </div>\n      <Footer />\n    </div>\n    </>\n    // <>\n    // <Navbar />\n    // <Sidebar />\n    // <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.css\" integrity=\"sha256-NAxhqDvtY0l4xn+YVa6WjAcmd94NNfttjNsDmNatFVc=\" crossorigin=\"anonymous\" />\n    // <div class=\"container ht_content max-height-500 overflow-y-auto\">\n    //     <div class=\"row\">\n    //         <div class=\"col-lg-9 right\">\n\n    //             <div class=\"box shadow-sm rounded bg-white mb-3\">\n    //                 <div class=\"box-body p-0\">\n    //                     {\n    //                         listeannonce !== null &&\n    //                         listeannonce.slice(0, 14).map((image, index) => (\n    //                             image !== null ? (\n    //                             // <Presentation myclass={image} key={index}></Presentation>\n    //                             <Historique myclass={image}></Historique>\n    //                             // <Annonce myclass={image} key={index}></Annonce>\n    //                             ) : null\n    //                         ))\n    //                     }\n\n    //                 </div>\n    //             </div>\n\n    //         </div>\n    //     </div>\n    // </div>\n    \n    // </>\n  );\n}\n\nexport default ListHistorique;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}